-- this function is called when the box is initialized
function initialize(box)
	dofile(box:get_config("${Path_Data}") .. "/plugins/stimulation/lua-stimulator-stim-codes.lua")
end

-- this function is called when the box is uninitialized
function uninitialize(box)
	io.write("uninitialize has been calle d\n")
end

function process(box)

	local aire 			= {33028, 33029, 33030, 33031}
	local stop_air 		=  33043

	io.write("process has been called\n")
	n=4
	box:send_stimulation(1,33084,2,0) --Start LSL communication 
	box:send_stimulation(1, aire[n], 26.35844, 0)
	box:send_stimulation(1, aire[n], 35.58103, 0)
	box:send_stimulation(1, aire[n], 42.07514, 0)
	box:send_stimulation(1, aire[n], 50.64992, 0)
	box:send_stimulation(1, aire[n], 58.86243, 0)
	box:send_stimulation(1, aire[n], 65.99064, 0)
	box:send_stimulation(1, aire[n], 73.70158, 0)
	box:send_stimulation(1, aire[n], 81.92999, 0)
	box:send_stimulation(1, aire[n], 92.31559, 0)
	box:send_stimulation(1, aire[n], 102.1619, 0)
	box:send_stimulation(1, aire[n], 109.262, 0)
	box:send_stimulation(1, aire[n], 119.2852, 0)
	box:send_stimulation(1, aire[n], 127.7688, 0)
	box:send_stimulation(1, aire[n], 135.7268, 0)
	box:send_stimulation(1, aire[n], 144.2033, 0)
	box:send_stimulation(1, aire[n], 152.0667, 0)
	box:send_stimulation(1, aire[n], 159.9839, 0)
	box:send_stimulation(1, aire[n], 168.977, 0)
	box:send_stimulation(1, aire[n], 177.9164, 0)
	box:send_stimulation(1, aire[n], 186.8612, 0)
	box:send_stimulation(1, aire[n], 195.3088, 0)
	box:send_stimulation(1, aire[n], 202.5039, 0)
	box:send_stimulation(1, aire[n], 210.982, 0)
	box:send_stimulation(1, aire[n], 220.0688, 0)
	box:send_stimulation(1, aire[n], 228.3948, 0)
	box:send_stimulation(1, aire[n], 237.0846, 0)
	box:send_stimulation(1, aire[n], 245.5691, 0)
	box:send_stimulation(1, aire[n], 253.3669, 0)
	box:send_stimulation(1, aire[n], 261.5628, 0)
	box:send_stimulation(1, aire[n], 269.0379, 0)
	box:send_stimulation(1, aire[n], 277.6302, 0)
	box:send_stimulation(1, aire[n], 284.8655, 0)
	box:send_stimulation(1, aire[n], 292.1529, 0)
	box:send_stimulation(1, aire[n], 299.6132, 0)
	box:send_stimulation(1, aire[n], 305.6504, 0)
	box:send_stimulation(1, aire[n], 314.6093, 0)
	box:send_stimulation(1, aire[n], 322.8261, 0)
	box:send_stimulation(1, aire[n], 330.3228, 0)
	box:send_stimulation(1, aire[n], 339.2363, 0)
	box:send_stimulation(1, aire[n], 346.0953, 0)
	box:send_stimulation(1, aire[n], 354.0271, 0)
	box:send_stimulation(1, aire[n], 361.8662, 0)
	box:send_stimulation(1, aire[n], 370.079, 0)
	box:send_stimulation(1, aire[n], 378.2876, 0)
	box:send_stimulation(1, aire[n], 385.711, 0)
	box:send_stimulation(1, aire[n], 393.6909, 0)
	box:send_stimulation(1, aire[n], 401.581, 0)
	box:send_stimulation(1, aire[n], 409.9995, 0)
	box:send_stimulation(1, aire[n], 418.7283, 0)
	box:send_stimulation(1, aire[n], 427.4679, 0)
	box:send_stimulation(1, aire[n], 434.8921, 0)
	box:send_stimulation(1, aire[n], 442.9437, 0)
	box:send_stimulation(1, aire[n], 450.1342, 0)
	box:send_stimulation(1, aire[n], 457.3919, 0)
	box:send_stimulation(1, aire[n], 465.3873, 0)
	box:send_stimulation(1, aire[n], 474.4091, 0)
	box:send_stimulation(1, aire[n], 481.896, 0)
	box:send_stimulation(1, aire[n], 490.1436, 0)
	box:send_stimulation(1, aire[n], 497.9932, 0)
	box:send_stimulation(1, aire[n], 506.7381, 0)
	box:send_stimulation(1, stop_air, 28.35844, 0)
	box:send_stimulation(1, stop_air, 37.58103, 0)
	box:send_stimulation(1, stop_air, 44.07514, 0)
	box:send_stimulation(1, stop_air, 52.64992, 0)
	box:send_stimulation(1, stop_air, 60.86243, 0)
	box:send_stimulation(1, stop_air, 67.99064, 0)
	box:send_stimulation(1, stop_air, 75.70158, 0)
	box:send_stimulation(1, stop_air, 83.92999, 0)
	box:send_stimulation(1, stop_air, 94.31559, 0)
	box:send_stimulation(1, stop_air, 104.1619, 0)
	box:send_stimulation(1, stop_air, 111.262, 0)
	box:send_stimulation(1, stop_air, 121.2852, 0)
	box:send_stimulation(1, stop_air, 129.7688, 0)
	box:send_stimulation(1, stop_air, 137.7268, 0)
	box:send_stimulation(1, stop_air, 146.2033, 0)
	box:send_stimulation(1, stop_air, 154.0667, 0)
	box:send_stimulation(1, stop_air, 161.9839, 0)
	box:send_stimulation(1, stop_air, 170.977, 0)
	box:send_stimulation(1, stop_air, 179.9164, 0)
	box:send_stimulation(1, stop_air, 188.8612, 0)
	box:send_stimulation(1, stop_air, 197.3088, 0)
	box:send_stimulation(1, stop_air, 204.5039, 0)
	box:send_stimulation(1, stop_air, 212.982, 0)
	box:send_stimulation(1, stop_air, 222.0688, 0)
	box:send_stimulation(1, stop_air, 230.3948, 0)
	box:send_stimulation(1, stop_air, 239.0846, 0)
	box:send_stimulation(1, stop_air, 247.5691, 0)
	box:send_stimulation(1, stop_air, 255.3669, 0)
	box:send_stimulation(1, stop_air, 263.5628, 0)
	box:send_stimulation(1, stop_air, 271.0379, 0)
	box:send_stimulation(1, stop_air, 279.6302, 0)
	box:send_stimulation(1, stop_air, 286.8655, 0)
	box:send_stimulation(1, stop_air, 294.1529, 0)
	box:send_stimulation(1, stop_air, 301.6132, 0)
	box:send_stimulation(1, stop_air, 307.6504, 0)
	box:send_stimulation(1, stop_air, 316.6093, 0)
	box:send_stimulation(1, stop_air, 324.8261, 0)
	box:send_stimulation(1, stop_air, 332.3228, 0)
	box:send_stimulation(1, stop_air, 341.2363, 0)
	box:send_stimulation(1, stop_air, 348.0953, 0)
	box:send_stimulation(1, stop_air, 356.0271, 0)
	box:send_stimulation(1, stop_air, 363.8662, 0)
	box:send_stimulation(1, stop_air, 372.079, 0)
	box:send_stimulation(1, stop_air, 380.2876, 0)
	box:send_stimulation(1, stop_air, 387.711, 0)
	box:send_stimulation(1, stop_air, 395.6909, 0)
	box:send_stimulation(1, stop_air, 403.581, 0)
	box:send_stimulation(1, stop_air, 411.9995, 0)
	box:send_stimulation(1, stop_air, 420.7283, 0)
	box:send_stimulation(1, stop_air, 429.4679, 0)
	box:send_stimulation(1, stop_air, 436.8921, 0)
	box:send_stimulation(1, stop_air, 444.9437, 0)
	box:send_stimulation(1, stop_air, 452.1342, 0)
	box:send_stimulation(1, stop_air, 459.3919, 0)
	box:send_stimulation(1, stop_air, 467.3873, 0)
	box:send_stimulation(1, stop_air, 476.4091, 0)
	box:send_stimulation(1, stop_air, 483.896, 0)
	box:send_stimulation(1, stop_air, 492.1436, 0)
	box:send_stimulation(1, stop_air, 499.9932, 0)
	box:send_stimulation(1, stop_air, 508.7381, 0)

	box:send_stimulation(1, 32770, 520, 0)   -- End stimuli
	
	box:sleep()
end